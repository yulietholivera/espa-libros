import{w as p,x as g,a as t,o as e,t as f}from"./chunk-QMGIS6GS-ClXNqF_9.js";import{u as h}from"./CartContext-CTEwtsR9.js";import{L as b}from"./logo-D5a0bzcX.js";import"./auth-BPhwfanI.js";function j(){return e.jsx("div",{className:"text-center p-10",children:"Cargando..."})}function c({message:o}){return e.jsx("div",{className:"text-center p-10 text-red-500",children:o})}const E=p(function(){const{id:a}=g(),{addToCart:d}=h(),[s,x]=t.useState(null),[m,i]=t.useState(!0),[l,n]=t.useState(null);return t.useEffect(()=>{if(!a){n("No se proporcionó un ID de libro."),i(!1);return}(async()=>{try{const r=await fetch(`/api/libros/${a}`);if(!r.ok)throw new Error(`Error al cargar el libro: ${r.statusText}`);const u=await r.json();x(u)}catch(r){n(r.message)}finally{i(!1)}})()},[a]),m?e.jsx(j,{}):l?e.jsx(c,{message:l}):s?e.jsx("div",{className:"bg-regal2-espalibros min-h-screen",children:e.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-16 sm:px-6 sm:py-24 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx(f,{to:"/",children:e.jsx("img",{src:b,alt:"Espa-Libros Logo"})})}),e.jsx("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:s.imagenURL,alt:s.titulo,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-8 md:w-2/3",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.titulo}),e.jsx("p",{className:"mt-2 text-lg text-gray-600",children:s.autor}),e.jsxs("p",{className:"mt-4 text-2xl font-bold text-regal-espalibros",children:["$",s.precio.toFixed(2)]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Descripción"}),e.jsx("p",{className:"mt-2 text-gray-700",children:s.descripcion||"No hay descripción disponible."})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:()=>d(s),className:"w-full rounded-md border border-transparent bg-regal-espalibros px-8 py-3 text-base font-medium text-white shadow-xs hover:bg-regal-espalibros/90 focus:outline-none focus:ring-2 focus:ring-regal-espalibros focus:ring-offset-2",children:"Agregar al Carrito"})})]})]})})]})}):e.jsx(c,{message:"Libro no encontrado."})});export{E as default};
